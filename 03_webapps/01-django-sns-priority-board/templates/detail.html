{% extends 'base.html' %}

{% block header_title %}
<h2 class="fw-bold mb-2 display-5">ç¤¾å†…SNS æŠ•ç¨¿è©³ç´°</h2>
{% endblock header_title %}

{% block content %}
{% if user.is_authenticated %}
<div class="container mt-5">
  <div class="card border-0 shadow-sm bg-light">
    <div class="card-header bg-primary text-white">
      <h4 class="mb-0">{{ board.title }}</h4>
    </div>
    <div class="card-body">
      <div class="mb-3 text-muted small d-flex justify-content-between">
        <span>ğŸ•’ æŠ•ç¨¿æ—¥ï¼š{{ board.created_at|date:"Y/m/d H:i" }}</span>
        <span>ğŸ‘¤ æŠ•ç¨¿è€…ï¼š{{ board.author }}</span>
      </div>

      {% if board.snsimage %}
        <div class="mb-4 text-center">
          <img src="{{ board.snsimage.url }}" class="img-fluid rounded shadow-sm" style="max-height: 300px;" alt="æŠ•ç¨¿ç”»åƒ">
        </div>
      {% endif %}

      <p class="fs-5">{{ board.content|linebreaksbr }}</p>

      <div class="d-flex gap-3 mt-4">
        <a href="{% url 'good' board.pk %}" class="btn btn-primary">
          ã„ã„ã­
        </a>
        <a href="{% url 'read' board.pk %}" class="btn btn-info text-white">
          æ—¢èª­
        </a>
      </div>
    </div>
    <div class="card-footer bg-white text-end">
      {% if board.author == user.username %}
        <a href="{% url 'update' board.pk %}" class="btn btn-warning text-white me-2">
          ç·¨é›†ã™ã‚‹
        </a>
      {% endif %}
      <a href="{% url 'board' %}" class="btn btn-outline-dark">
        â† ä¸€è¦§ç”»é¢ã¸æˆ»ã‚‹
      </a>
    </div>
  </div>
</div>
{% else %}
<div class="container mt-5 text-center">
  <p class="text-danger">â€»ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„</p>
  <a href="{% url 'login' %}" class="btn btn-primary">ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã¸</a>
</div>
{% endif %}
{% endblock content %}
